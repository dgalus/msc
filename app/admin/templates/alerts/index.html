{% extends "layout.html" %}
{% block content %}

        <div class="breadcrumbs">
            <div class="col-sm-4">
                <div class="page-header float-left">
                    <div class="page-title">
                        <h1>Alerts</h1>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12">
          <div class="card">
              <div class="card-header">
                  <strong class="card-title">Last alerts</strong>
              </div>
              <div class="card-body">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th scope="col">Date - Time</th>
                        <th scope="col">Description</th>
                        <th scope="col">Rate</th>
                        <th scope="col">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for a in alerts: %}
                      <tr>
                        <td>{{ a['timestamp'] }}</td>
                        <td>[{{ a['alert_type'] }}] {{ a['description'] }}</td>
                        <td>{{ a['rank'] }}%</td>
                        <td>
                            <form method="post" action="/mark_alert_as_viewed">
                                <input type="hidden" name="alert_id" value="{{ a['id'] }}" />
                                <input type="submit" class="btn btn-primary" value="Mark as viewed" />
                            </form>
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
              </div>
          </div>
      </div>


{% endblock %}